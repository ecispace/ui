<section class="header clearfix">
  <h1 class="pull-left">
    {{t "globalRegistryPage.title"}}
  </h1>&nbsp;
  <div class="vertical-middle"></div>

  <div class="right-buttons">
    {{#link-to
       "global-registry.registries.new"
       class="btn btn-sm bg-primary"
       disabled=(rbac-prevents resource="globalregistry" scope="global" permission="create")
    }}
      {{t "globalRegistryPage.newRegistry"}}
    {{/link-to}}
  </div>
</section>


{{#if rows.length}}
  {{#sortable-table
     classNames="grid sortable-table"
     body=rows
     searchText=searchText
     descending=descending
     sortBy=sortBy
     bulkActions=true
     pagingLabel="pagination.registry"
     headers=headers as |sortable kind registry dt|
  }}
    {{#if (eq kind "row")}}
      <tr class="main-row">
        <td
          valign="middle"
          class="row-check"
          style="padding-top: 2px;"
        >
          {{check-box nodeId=registry.id}}
        </td>
        <td data-title="{{dt.state}}" class="state">
          {{badge-state model=registry}}
        </td>
        <td data-title="{{dt.name}}">
          {{registry.name}}
        </td>
        <td data-title="{{dt.answers.externalURL}}">
          <a href="{{registry.answers.externalURL}}" target="_blank" rel="noreferrer nofollow">{{registry.answers.externalURL}}</a>
        </td>
        <td data-title="{{dt.created}}">
          {{date-calendar registry.created}}
        </td>
        <td data-title="{{dt.actions}}" class="actions">
          {{action-menu model=registry}}
        </td>
      </tr>
    {{else if (eq kind "nomatch")}}
      <tr>
        <td
          colspan="{{sortable.fullColspan}}"
          class="text-center text-muted lacsso pt-20 pb-20"
        >
          {{t "globalRegistryPage.noMatch"}}
        </td>
      </tr>
    {{else if (eq kind "norows")}}
      <tr>
        <td
          colspan="{{sortable.fullColspan}}"
          class="text-center text-muted lacsso pt-20 pb-20"
        >
          {{t "globalRegistryPage.noData"}}
        </td>
      </tr>
    {{/if}}
  {{/sortable-table}}
{{else}}
  {{empty-table
    resource="container"
    newRoute="global-admin.global-registry.registries.new"
    newTranslationKey="globalRegistryPage.newRegistry"
    ctx=""
  }}
{{/if}}